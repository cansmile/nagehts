<?php require_once( "heading.php" ); ?>
<!-- 알림 시작 -->
<?php require_once "ready.php"; ?>
<!-- 알림 끝 -->
<section>
    <div class="container">
        <div class="row">
            <div class="col-lg-12 mb-4 mt-2 text-center">
                <h2> Ergänzen Sie die Lücken.<br/>
                    <small> 빈칸을 채우세요. </small>
                    <button type="button" class="btn btn-<?php echo( $color ); ?> ms-2 btn-inline so" id="0">
                        HV
                    </button>
                    <br/>
                    [ <small>정답을 입력하면 입력란이 초록색으로 표시되고,<br> 오답이 될 때는 입력란이 붉게
                        표시됩니다.</small> ]
                </h2>
            </div>
        </div>
        <div class="row">
            <div class="col-12 wd_inline_inverted">Mina ist zu ihrer Sprachreise nach Dresden geflogen. Das war ihr
                erster Flug. Daher berichtet sie ihren Freunden darüber. Ergänzen Sie die Lücken. Bilden Sie Sätze
                entweder, im Perfekt oder im Passiv.
                <span class="tran font-weight-bold">&nbsp;<small>미나는 드레스덴으로 어학연수를 떠났습니다. 이것이 그녀의 첫 번째 비행이었습니다. 그래서 그녀는 그녀의 친구들에게 이것에 대해 알려줍니다. 빈칸을 채우세요. 현재완료, 수동태 중에 알맞게 골라 문장을 완성하세요.</small><br/></span>
            </div>
        </div>
        <div class="row lh250">
            <div class="col-sm-12 col-md-6 col-lg-6">
                <div class="row">
                    <div class="col-11 mx-auto border border-dark rounded">
                        Halli hallo, ihr Lieben,
                        <span class="tran"><br><small>안녕 사랑하는 친구들,</small></span><br/>
                        ich <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> gestern schon in Dresden <span
                            class="wd_inline_red">(ankommen)</span>.
                        <span class="tran"><br><small>나는 어제 드레스덴에 도착했어.</small></span><br/>
                        Wie ihr wisst, <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> ich zum ersten Mal
                        über zehn Stunden mit dem Flugzeug <span class="wd_inline_red">(fliegen)</span>.
                        <span class="tran"><br><small>너희가 아는 것처럼, 처음으로 비행기를 타고 열 시간이 넘게 날아 왔어.</small></span><br/>
                        Ich erzähle euch in meinem ersten Bericht, was ich beim Check-in und nach dem Landen <span
                            class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> <span
                            class="wd_inline_red">(erleben)</span>.
                        <span
                            class="tran"><br><small>내가 체크인에서 그리고 착륙 후에 무엇을 경험했는지 나의 첫 번째 소식을 이야기 할게.</small></span><br/>
                        Das war alles ziemlich anstrengend für mich.
                        <span class="tran"><br><small>나에게는 모든 것이 상당히 힘든 일이었어.</small></span><br/>
                        Am Flughafen suchte ich zuerst in meinen Reiseunterlagen
                        nach der Flugnummer und blickte dann auf den Monitor und fand die Flugnummer, die Abflugzeit
                        sowie auch den Check-In Schalter.
                        <span class="tran"><br><small>공항에서 나는 우선 여행서류에서 비행기 번호를 찾고 모니터를 보고 나의 비행기 번호와 비행시간, 그리고 체크인 창구를 찾았어.</small></span><br/>
                        Dort <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> ich <span
                            class="wd_inline_red">(eingecheckt werden / einchecken)</span> und mein Gepäck <span
                            class="wd_inline_red">(aufgegeben werden / aufgeben)</span>.
                        <span class="tran"><br><small>거기에서 체크인을 하고 나의 짐을 부쳤어.</small></span>
                        Die Bordkarte <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>mir <span
                            class="wd_inline_red">(ausgehändigt werden/ aushändigen)</span>.
                        <span class="tran"><br><small>탑승권을 넘겨 받았어. 탑승권에 써 있는 게이트를 찾고, 거기에서 비행기를 기다려.</small></span>
                        Auf der Bordkarte findet man den Flugsteig, an dem das Flugzeug wartet.
                        <span class="tran"><br><small>비행기 탑승 전에, 나는 보안검사를 통과했어.</small></span>
                        Bevor ich zum Flugsteig kommen, musste ich mich einer
                        Sicherheitskontrolle unterziehen.
                        <span class="tran"><br><small></small></span>
                        Nach der Sicherheitskontrolle wartete ich, bis die Fluggäste<span
                            class="wd_inline_red">(aufgerufen werden/ aufrufen)</span> und in das Flugzeug steigen
                        konnten.
                        <span class="tran"><br><small>보안검사 후에, 탑승객들이 호명되고 비행기를 타기 전까지 기다렸어.</small></span>
                        Im Flugzeug <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> ich dann meinen
                        Sitzplatz <span class="wd_inline_red">(suchen)</span> und habe mich <span class="wd_inline_red">(hinsetzen)</span>.
                        <span class="tran"><br><small>비행기에서 나는 나의 좌석을 찾고 자리에 앉았어. </small></span>
                        Während des Flugs wurden uns einige Snacks
                        und Getränke <span class="wd_inline_red">(angeboten werden/ anbieten)</span>, die natürlich im
                        Flugticket inbegriffen waren.
                        <span class="tran"><br><small>비행 동안 약간의 스낵과 음료가 제공됐는데, 당연히 항공권에 포함됐어.</small></span>
                        Als ich dann am Zielflughafen landete, ging ich zuerst einmal Richtung Gepäckausgabe.
                        <span class="tran"><br><small>도착지 공항에 착륙했을 때 나는 우선 짐 찾는 곳으로 갔어.</small></span>
                        Hier zeigte wieder ein Monitor an, wo man sein Gepäck findet.
                        <span class="tran"><br><small>여기에서 다시 어디에서 짐을 찾을 수 있는지 모니터를 봤어.</small></span>
                        Am entsprechenden Förderband angekommen nahm ich dann mein Gepäck herunter.
                        <span class="tran"><br><small>정해진 컨베이어 벨트에서 나의 짐을 찾았어.</small></span>
                        Gott sei Dank <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> mein Anreisetag
                        reibungslos <span class="wd_inline_red">(laufen)</span>.
                        <span class="tran"><br><small>도착 날이 무사히 지나서 얼마나 다행인지.</small></span><br/>
                        Ich melde mich wieder bei euch, und berichte euch dann, wie meine Sprachreise ist.
                        <span class="tran"><br><small>나의 어학연수가 어떤지 다시 알려줄게.</small></span><br/>
                        Bis bald
                        <span class="tran"><br><small>그때까지 안녕</small></span><br/>
                        Eure Mina
                        <span class="tran"><br><small>너희의 미나</small></span>
                        <span class="tran"><br><small></small></span>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6">
                <div class="row form-inline">
                    <div class="col-11 mx-auto border border-dark rounded">
                        Halli hallo, ihr Lieben,<br/>
                        ich<input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                                  class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                                  placeholder="Antwort" aria-label="Antwort" id="qst-1">
                        gestern schon in Dresden
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-2">. Wie ihr wisst,
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-3">
                        ich zum ersten Mal über zehn Stunden mit dem Flugzeug
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-4">. Ich erzähle euch in meinem ersten
                        Bericht, was ich beim Check-in und nach dem Landen
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-5">
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-6">. Das war alles ziemlich
                        anstrengend für mich.<br/>Am Flughafen suchte ich zuerst in meinen Reiseunterlagen nach der
                        Flugnummer und blickte dann auf den Monitor und fand die Flugnummer,die Abflugzeit sowie auch
                        den Check-In Schalter. Dort
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-7">
                        ich
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-8">
                        und mein Gepäck
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-9">
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-10">
                        . Die Bordkarte
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-11">
                        mir
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-12">. Auf der Bordkarte findet man den
                        Flugsteig, an dem das Flugzeug wartet. Bevor ich zum Flugsteig kam, musste ich mich einer
                        Sicherheitskontrolle unterziehen. Nach der Sicherheitskontrolle wartete ich, bis die Fluggäste
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-13">
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-14">
                        und in das Flugzeug steigen konnten. Im Flugzeug
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-15">
                        ich dann meinen Sitzplatz
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-16">
                        und habe mich
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-17">.
                        Während des Flugs wurden uns einige Snacks und Getränke
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-18">, die natürlich im Flugticket
                        inbegriffen waren.<br/>
                        Als ich dann am Zielflughafen ich zuerst einmal Richtung Gepäckausgabe.<br/>
                        Hier zeigte wieder ein Monitor an, wo man sein Gepäck findet.<br/>
                        Am entsprechenden Förderband angekommen nahm ich dann mein Gepäck herunter.
                        Gott sei Dank
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-19">
                        mein Anreisetag reibungslos
                        <input autocomplete="off" type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1 t-3 d-inline"
                               placeholder="Antwort" aria-label="Antwort" id="qst-20">
                        .
                        Ich melde mich wieder bei euch, und berichte euch dann, wie meine Sprachreise ist.<br/>
                        Bis bald<br/><br/>
                        Eure Mina

                    </div>
                </div>
            </div>
        </div>
        <!-- 정답화인 버튼 시작 -->
        <div class="row">
            <div class="btn my-3 btn-light col-sm-12 col-md-12 col-lg-12" id="chk">
                정답확인
            </div>
        </div>
        <!-- 정답확인 버튼 끝 -->
        <div class="row">
            <div class="col-12"><span class="tipp">TIPP</span></div>
            <div class="col-12 h5 my-3">수동태 (Passiv-Form)</div>
            <div class="col-12">
                <ul>
                    <li>어떠한 사건은 행위자 혹은 행위 중심의 두 가지 관점으로 관찰할 수 있다. 아래의 예와 같이 „행위자가“ 가 중요할 때 (예: 위인전)는 능동태를, „무엇이“라는 행위나
                        사건이 중요할 때는 (사용법, 신문사건 기사 등) 주로 수동태를 사용한다.
                    </li>
                </ul>
                <table class="table table-borderless table-striped">
                    <thead class="table-light">
                    <tr>
                        <th class="text-center" scope="col">행위자 중심 (능동태)</th>
                        <th class="text-center" scope="col">행위 중심 (수동태)</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Während des Flugs bietet uns eine Flugbegleiterin einige Snacks und Getränke an.</td>
                        <td>Während des Flugs werden uns (von einer Flugbegleiterin) einige Snacks und Getränke
                            angeboten.
                        </td>
                    </tr>
                    <tr>
                        <td>Man hat die <i>Fluggäste aufgerufen</i>.</td>
                        <td>Die <i>Fluggäste wurden aufgerufen</i>.</td>
                    </tr>
                    </tbody>
                </table>
                위의 예문에서의 같이 수동태의 문장에서는 행위가 부각되며, 능동태에서의 주어(한 의사가, 어떤 사람이)는 수동태의 문장에서 목적어로 (von + 인물)로, 그리고 능동태의 목적어는
                수동태에서 주어로 된다.<br/>설명문이나 지시문에서의 능동태문장들은 인물보다는 행위가 중요하므로 수동태의 문장으로 표현된다.
                <ul>
                    <li>수동태의 형태는 werden (조동사) + 과거분사형으로 조동사 werden의 현재형과 과거 형은 아래와 같다.</li>
                </ul>
                <table class="table table-borderless table-striped">
                    <thead class="table-light">
                    <tr>
                        <th scope="col">&nbsp;</th>
                        <th scope="col">ich</th>
                        <th scope="col">du</th>
                        <th scope="col">er / sie / es</th>
                        <th scope="col">wir</th>
                        <th scope="col">ihr</th>
                        <th scope="col">sie / Sie</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">현재(Gegenwart)</th>
                        <td>werde</td>
                        <td>wirst</td>
                        <td>wird</td>
                        <td>werden</td>
                        <td>werdet</td>
                        <td>werden</td>
                    </tr>
                    <tr>
                        <th scope="row">과거(Vergangenheit)</th>
                        <td>wurde</td>
                        <td>wurdest</td>
                        <td>wurde</td>
                        <td>wurden</td>
                        <td>wurdet</td>
                        <td>wurden</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-12 h5 my-3">과거형 (Präteritum)</div>
            <div class="col-12">
                <ul>
                    <li>독일어의 많은 동사들이 현재형과 마찬가지로 과거 형에서도 규칙 변화하며 1인칭 및 3인칭 단수 및 복수형의 형태가 아래의 표와 같이 동일하게 변화한다.</li>
                </ul>
                <table class="table table-borderless table-striped">
                    <thead class="table-light">
                    <tr>
                        <th scope="col">&nbsp;</th>
                        <th scope="col">ich</th>
                        <th scope="col">du</th>
                        <th scope="col">er / sie / es</th>
                        <th scope="col">wir</th>
                        <th scope="col">ihr</th>
                        <th scope="col">sie / Sie</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">규칙변화동사의 과거형</th>
                        <td>-te</td>
                        <td>-test</td>
                        <td>-te</td>
                        <td>-ten</td>
                        <td>-tet</td>
                        <td>-ten</td>
                    </tr>
                    </tbody>
                </table>
                <ul>
                    <li>불규칙 변화 동사의 과거 형은 불규칙변화동사의 현재형과 마찬가지로 동사 어간에 모음교체현상이 일어나며 1인칭 및 3인칭 단수 및 복수형의 형태가 동일하다.</li>
                </ul>
                <table class="table table-borderless table-striped text-center">
                    <thead class="table-light">
                    <tr>
                        <th scope="col">&nbsp;</th>
                        <th scope="col">ich</th>
                        <th scope="col">du</th>
                        <th scope="col">er / sie / es</th>
                        <th scope="col">wir</th>
                        <th scope="col">ihr</th>
                        <th scope="col">sie / Sie</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">sein</th>
                        <td>war</td>
                        <td>warst</td>
                        <td>war</td>
                        <td>waren</td>
                        <td>wart</td>
                        <td>waren</td>
                    </tr>
                    <tr>
                        <th scope="row">finden</th>
                        <td>fand</td>
                        <td>fandest</td>
                        <td>fand</td>
                        <td>fanden</td>
                        <td>faendet</td>
                        <td>fanden</td>
                    </tr>
                    <tr>
                        <th scope="row">kommen</th>
                        <td>kam</td>
                        <td>kamst</td>
                        <td>kam</td>
                        <td>kamen</td>
                        <td>kamt</td>
                        <td>kamen</td>
                    </tr>
                    <tr>
                        <th scope="row">gehen</th>
                        <td>ging</td>
                        <td>gingst</td>
                        <td>ging</td>
                        <td>gingen</td>
                        <td>gingt</td>
                        <td>gingen</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>

<div id="last" class="d-none"></div>

<?php require "footer.php"; ?>
<script src="./dev/js/howler.core.js"></script>
<!-- 맞고 틀리는지 소리 -->
<?php require_once( "./dev/oxsound.php" ); ?>
<script>
    $("#0").hide();
    $(".tran").hide();
    $(".ant").hide();
    var an = new Array();
    var an = ["bin", "angekommen", "bin", "geflogen", "erlebt", "habe", "wurde", "eingecheckt", "wurde", "aufgegeben", "wurde", "ausgehändigt", "aufgerufen", "wurden", "habe", "gesucht", "hingesetzt", "angeboten", "ist", "gelaufen"];
    /* 각 문장 재생 횟수 초기화 */
    var hm = new Array(),
        sen = new Array();
    $(".so").each(function () {
        hm[$(this).attr("id")] = 0;
        sen[$(this).attr("id")] = $("#" + $(this).attr("id"))
            .html();
    });

    $(document).ready(function () {
        /* 소리 출력 전역 변수와 함수 */
        var sen = new Array(),
            pa = new Array(),
            he = new Array(),
            last;
        $(".so").each(function () {
            var t = $(this);
            var ti = t.attr("id");
            sen[ti] = 0;
            pa[ti] = t.html();
        });

        function stopAll() {
            $(".so").each(function () {
                $(this).html(pa[$(this).attr("id")]);
            });
        } /* 문제 재생 */
        var nagehts = new Howl({
            src: ["./dev/sounds/Reihe 12/r12 D1.mp3"],
            sprite: {
                "0": [420, 111684]
            },
            html5: true,
            volume: 1,
            format: "mp3",
            preload: true,
            onloaderror: function () {
                $(".alert").append(
                    "<br /><strong class=\"font-weight-bold text-dark display-4\">페이지를 다시 읽어주시기 바래요.</strong>"
                );
                console.log("다시 읽어주세요!");
            },
            onload: function () {
                /* 음성 준비되면 HV 버튼 나타내기 */
                $("#0").show();
                $("#ready").hide();
                $(".so").on("click", function () {
                    var t = $(this);
                    var ti = t.attr("id");
                    if (($("div#last").text() == "" || t.text() == "❚❚") && !t.hasClass(".itm-lst")) {
                        $("#last").text(ti);
                        t.text("■");
                        nagehts.seek();
                        nagehts.play(ti);
                        sen[ti]++;
                        last = ti;
                        $("#cnt-" + ti).text(sen[ti]);
                    } else if (last == ti && nagehts.playing($("div#last").text())) {
                        $("#last").text("");
                        t.html(pa[ti]);
                        nagehts.pause();
                        sen[ti]--;
                        $("#cnt-" + ti).text(sen[ti]);
                    }
                });

                /* 값 확인해보자, io값이 참이면 전체 검사 */
                function rfchk(th, io) {
                    var q, qn, a, b, fl;
                    q = th.val().length;
                    qn = (th.attr("id").substr(4)) - 1;
                    a = th.val();
                    a = a.replace(/ /gi, "");
                    di(th);
                    if (!$.isArray(an[qn])) {/* 1 인 경우 */
                        if (io) {
                            b = an[qn];
                        } else {
                            b = an[qn].substr(0, q);
                        }
                        b = b.replace(/ /gi, "");
                        if (a == b) {
                            return true;
                        }
                    } else {
                        /* 2 이상인 경우 */
                        for (var fd = 0; fd < an[qn].length; fd++) {
                            if (io) {
                                b = an[qn][fd];
                            } else {
                                b = an[qn][fd].substr(0, q);
                            }
                            b = b.replace(/ /gi, "");
                            if (a == b) {
                                return true;
                            }
                        }
                    }
                }

                /* 역동적 입력란 */
                $.fn.textWidth = function (text, font) {
                    if (!$.fn.textWidth.fakeEl) $.fn.textWidth.fakeEl = $('<span>').hide().appendTo(document.body);
                    $.fn.textWidth.fakeEl.text(text || this.val() || this.text()).css('font', font || this.css('font'));
                    return $.fn.textWidth.fakeEl.width();
                };

                function di(th) {
                    if (th.val().length < 10) {
                        var m = 1.5;
                    }
                    if (th.val().length < 5) {
                        var m = 2;
                    }
                    if (th.val().length < 3) {
                        var m = 3;
                    }
                    if (th.val().length >= 10) {
                        var m = 1.35;
                    }
                    var w = Math.ceil(th.textWidth() * m) + 'px';
                    console.log(w);

                    th.css("min-width", w);
                    th.css("max-width", w);
                    th.css("width", w);
                };

                $(".q").on("keyup", function () {
                    $(this).removeClass("bg-danger");
                    $(this).removeClass("bg-success");
                    $("#ant-" + $(this).attr("id").substr(4)).removeClass("text-danger");
                    $("#ant-" + $(this).attr("id").substr(4)).removeClass("text-success");
                    if (rfchk($(this))) {
                        $(this).addClass("text-white font-weight-bold");
                        $(this).addClass("bg-success");
                        $("#ant-" + $(this).attr("id").substr(4)).addClass("text-success");
                    } else {
                        $(this).addClass("text-white font-weight-bold");
                        $(this).addClass("bg-danger");
                        $("#ant-" + $(this).attr("id").substr(4)).addClass("text-danger");
                    }
                    if (!$(this).val()) {
                        $(this).removeClass("bg-danger");
                        $(this).removeClass("bg-success");
                        $(this).removeClass("text-white font-weight-bold");
                    }
                    if ($(this).val()) {
                        $("#ant-" + $(this).attr("id").substr(4)).show();
                        $("#ant-" + $(this).attr("id").substr(4)).text($(this).val());
                    } else {
                        $("#ant-" + $(this).attr("id").substr(4)).hide();
                    }
                });
                $(".q").on("focusin", function () {
                    $("#ant-" + $(this).attr("id").substr(4)).show();
                    if (!$("#ant-" + $(this).attr("id").substr(4)).text()) {
                        $("#ant-" + $(this).attr("id").substr(4)).text($(this).val());
                    }
                    if ($("#ant-" + $(this).attr("id").substr(4)).text()) {
                        if (rfchk($(this))) {
                            $(this).addClass("text-white font-weight-bold");
                            $(this).addClass("bg-success");
                            $("#ant-" + $(this).attr("id").substr(4)).addClass("text-success");
                        } else {
                            $(this).addClass("text-white font-weight-bold");
                            $(this).addClass("bg-danger");
                            $("#ant-" + $(this).attr("id").substr(4)).addClass("text-danger");
                        }
                    }
                });
                $(".q").on("focusout", function () {
                    $("#ant-" + $(this).attr("id").substr(4)).hide();
                    if (rfchk($(this), true)) {
                        $(this).addClass("bg-success");
                        $(this).addClass("text-white");
                    } else {
                        $(this).addClass("bg-danger");
                    }
                    if ($(this).val()) {
                        if ($(this).hasClass("bg-danger")) {
                            x.play();
                        } else if ($(this).hasClass("bg-success")) {
                            o.play();
                            $(this).prop("disabled", true);
                        }
                    }
                    $(this).removeClass("bg-danger");
                    if (!$(this).attr("disabled")) {
                        $(this).removeClass("text-white font-weight-bold");
                        $(this).removeClass("bg-success");
                    }
                })

                /* 입력하는 문자 확인(정답 표시 없음) 여기까지 */
                $("#chk").on("click", function () {
                    var na = "";
                    var ri = 0;
                    var qst = $(".q").length;
                    $(".q").each(function () {
                        if (na != "") {
                            na += ", ";
                        }
                        if ($(this).val() == "") {
                            na += $(this).attr("id").substr(4, 1);
                        }
                    });
                    if ($(this).attr("id") == "done") {
                    } else if (na == "") {
                        for (var i = 0; i < an.length; i++) {
                            var oran = $("#qst-" + (i + 1)).val();
                            if (rfchk($("#qst-" + (i + 1)), true)) {
                                $("#qst-" + (i + 1)).addClass("cr");
                                $("#qst-" + (i + 1)).removeClass("rounded-0");
                            } else {
                                $("#qst-" + (i + 1)).val(oran);
                                $("#qst-" + (i + 1)).attr("disabled", true);
                                $("#qst-" + (i + 1)).addClass("wa");
                                $("#qst-" + (i + 1)).removeClass("rounded-0");
                                if (!$.isArray(an[i])) {
                                    $("#qst-" + (i + 1)).after("<div class=\"w-100 ra t-6\" style=\"max-width: 100px;\">" + an[i] + "</div>");
                                } else {/* 2 이상인 경우 */
                                    var r = "<div class=\"w-100 ra t-6\" style=\"max-width: 100px;\">";
                                    for (var fd = (an[i].length - 1); fd >= 0; fd--) {
                                        if (fd < (an[i].length - 1)) {
                                            r = r + " / ";
                                        }
                                        r = r + an[i][fd];
                                    }
                                    r = r + "</div>";
                                    if ($("span.sen").length > 0) {
                                        $("#qst-" + (i + 1)).closest("span.sen").after(r);
                                    } else {
                                        $("#qst-" + (i + 1)).after(r);
                                    }
                                }
                            }
                            if ($("#qst-" + (i + 1)).hasClass("bg-success")) {
                                ri++;
                            }
                        }
                        ;

                        /* 정답 확인 div 상자 배경색 속성 없애기 */
                        $(this).removeClass("btn-light ");
                        var qa = $(".q").length; /* 전체 문항 수 */
                        var qr = $(".bg-success").length; /* 맞춘 항목 수 */
                        var pe = (qr / qa) * 100; /* 정답 비율 */
                        var tcl = "white"; /* 기본 문자색 *//* 분류 기준은 100%, 80%, 60%, 40% */
                        if (pe > 99) {
                            var st = "원어민이세요?";
                            var cl = "lime";
                            var tcl = "dark";
                        } else if (pe > 74) {
                            var st = "어! 좀 하시는데요~^^";
                            var cl = "success";
                        } else if (pe > 49) {
                            var st = "쓰읍~ 다시 해 보실까요?";
                            var cl = "primary";
                        } else {
                            var st = "좀 더 분발해 주세요~";
                            var cl = "danger";
                        }
                        $(this).addClass("btn-" + cl + " text-" + tcl);
                        $(this).html("<h4>" + qa + "문제 중 " + qr + "개를 맞히셨네요!<br>" + st + "</h4>");
                        $(this).prop("disabled", true);
                        $(".tran").show();
                        $(this).attr("id", "done");
                    } else {
                        alert("모든 문제를 풀어주세요!");
                    }
                    ;
                });
                var pan = new Array();
                pan = [1, 2, 6, 7, 8, 17];
                for (var p = 0; p < pan.length; p++) {
                    var pann = "#qst-" + pan[p];
                    $(pann).val(an[(pan[p] - 1)]);
                    $(pann).addClass("bg-success text-white font-weight-bold");
                    $(pann).prop("disabled", true);
                    di($(pann));
                }
                $("#0").show();
                $("#ready").hide();
            },
            onend: function () {
                $("div#last").text("");
                stopAll();
                $("#cnt-" + last).text(sen[last]);
                if (last == 0) {
                    if (sen[last] == 2) {
                        $(".tran").show();
                        $(".so").each(function () {
                            pa[last] = $("#" + last).html();
                        });
                    }
                } else if (sen[last] == 2) {
                    if ($("#" + last).hasClass("itm")) {
                        $("#" + last + ">.tran").show();
                    }
                    $("#" + last).closest("tr").find(".tran").show();
                    pa[last] = $("#" + last).html();
                }
            }
        });
    });
</script>
</body>

</html>

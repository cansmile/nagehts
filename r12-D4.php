<?php require_once("heading.php"); ?>
<!-- 알림 시작 -->
<?php require_once "ready.php"; ?>
<!-- 알림 끝 -->
<section>
    <div class="container">
        <!-- 고르는 아이템들 -->
        <div class="row">
            <div class="col-lg-12 mb-4 mt-2 text-center">
                <h2>Markieren Sie.<br>
                    <small>체크해보세요.</small>
                    <button type="button" class="btn btn-<?php echo($color); ?> ms-2 btn-inline so" id="0">
                        HV
                    </button>

                </h2>
                <h3>[ <small>문제를 모두 풀고 확인하세요.</small> ]</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-12 wd_inline_inverted">Mina ist in Dresden und nimmt an einem Sommerkurs teil. Darüber
                schreibt sie auf Facebook. Ergänzen Sie die Satzzeichen (./,/?) und auch die passenden Konnektoren.
                Schreiben Sie neu.
                <span class="tran font-weight-bold">&nbsp;<small>미나는 드레스덴에 있고 여름어학코스에 참석합니다. 이에 대해 그녀는 페이스북에 글을 썼습니다. 문장부호(./,/?)와 알맞은 접속사를 채워서 새롭게 써보세요.</small><br /></span>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 col-md-3 col-lg-3 text-center">
                <img src="./dev/images/Reihe 12/Reihe-12-D4-1.png"
                     style="max-width: 100%; height: auto;" alt="Meine Sprachreise">
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3 text-center">
                <img src="./dev/images/Reihe 12/Reihe-12-D4-2.png"
                     style="max-width: 100%; height: auto;" alt="Meine Sprachreise">
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3 text-center">
                <img src="./dev/images/Reihe 12/Reihe-12-D4-3.png"
                     style="max-width: 100%; height: auto;" alt="Meine Sprachreise">
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3 text-center">
                <img src="./dev/images/Reihe 12/Reihe-12-D4-4.png"
                     style="max-width: 100%; height: auto;" alt="Meine Sprachreise">
            </div>
        </div>
        <div class="row">
            <div class="col-12 border border-dark rounded m-2 p-2 lh250">
                Hallo, ihr Lieben,
                <span class="tran"><br /><small>안녕, 사랑하는 친구들</small></span><br />
                wie geht es euch? Ich freue mich sehr, dass ich euch schreiben kann.
                <span class="tran"><br /><small>어떻게 지내? 너희에게 글을 쓸 수 있어서 기뻐.</small></span><br />
                Verbringt ihr schöne Ferien auf der Jeju-Insel?
                <span class="tran"><br /><small>너희는 제주도에서 멋진 방학을 보내고 있니?</small></span><br />
                Wie ihr wisst, bin ich seit einer Woche in Dresden und nehme an einem vierwöchigen Sprachkurs teil.
                <span class="tran"><br /><small>너희도 알다시피, 나는 1주 전부터 드레스덴에 와서 4주 간의 어학 코스에 참여해.</small></span><br />
                Zum Glück hatte ich im Einstufungstest eine gute Note und bin jetzt im B2 Kurs.
                <span class="tran"><br /><small>운이 좋게도 반배치 시험에서 좋은 성적을 받아서 지금은 B2 코스를 듣고 있어.</small></span><br />
                Ich habe vormittags vier Stunden Sprachkurs und nachmittags Exkursionen.
                <span class="tran"><br /><small>오전에는 4시간 동안 어학수업을 듣고 오후에는 현장학습을 해.</small></span><br />
                Das finde ich gut. Hier habe ich schon viele nette Freunde aus der ganzen Welt kennengelernt.
                <span class="tran"><br /><small>좋은 것 같아. 여기에서 세계 곳곳에서 온 여러 친절한 친구들을 알아가고 있어.</small></span><br />
                Deutsch zu lernen macht mir Spaß. Am letzten Wochenende bin ich mit anderen Kursteilnehmern nach Leipzig
                und Berlin gereist, da es als eine Exkursion angeboten wurde.
                <span
                    class="tran"><br /><small>독일어를 배우는 것은 재미있어. 지난 주에 나는 현장학습으로 제공되는 라이프치히와 베를린으로의 여행을 다른 코스 참여자들하고 다녀왔어.</small></span><br />
                Bevor ich nach Berlin fuhr, habe ich im Internet nach den Sehenswürdigkeiten recherchiert. Obwohl das
                Wetter nicht schön war, hatten wir trotzdem viel Spaß, da unser Leiter Martin uns bei der Führung viele
                informationsreiche Tipps gegeben hatte. Im Anhang könnt ihr einige Fotos von Berlin und Leipzig sehen.
                <span class="tran"><br /><small>베를린에 가기 전에, 나는 인터넷에서 명소들을 탐색했어. 날씨는 좋지 않았지만, 그럼에도 우리는 아주 즐거웠어. 우리의 인솔자 마틴이 안내에 있어서 많은 정보를 담은 팁을 주었기 때문이야. 베를린과 리이프치히에서 찍은 사진 몇 장을 첨부했으니 볼 수 있을 거야.</small></span><br />

                An diesem Wochenende will ich nach Prag fahren, weil es schon immer einer meiner Traumorte war. Für die
                Reise habe ich bereits ein Zimmer reserviert und auch ein Auto gemietet. Während meines Aufenthalts
                möchte ich dort gerne viele Sehenswürdigkeiten und historische Orte besichtigen. Darauf freue ich mich
                schon sehr. Ich werde euch später mal einige Fotos von Prag posten. Wenn wir uns treffen, zeige
                ich euch dann auch Videos.
                <span class="tran"><br /><small>그리고 이번 주말에 나는 프라하에 갈거야, 그곳은 내가 항상 가고 싶어했던 꿈의 여행지의 한 곳이기 때문이야. 여행을 위해서 나는 이미 방을 예약했고 자동차도 빌렸어. 거기에서 머무는 동안, 많은 명소들과 역사적인 장소를 구경하고 싶어. 그럴 수 있다면 너무 기쁠 거야. 프라하에서 찍은 사진들을 너희에게 다시 포스팅할게. 우리가 다시 만난다면, 동영상도 보여줄게.</small></span><br />
                Ich vermisse euch alle so sehr.
                <span class="tran"><br /><small>너희 모두가 너무 그립다.</small></span><br />
                Bis bald!
                <span class="tran"><br /><small>곧 만나!</small></span><br />
                Eure Mina
                <span class="tran"><br /><small>너희의 미나.</small></span><br />

            </div></div>
        <div class="row">
            <div class="col-12">
                <table class="table table-borderless">
                    <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col"></th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">1.</th>
                        <td>
                            Mina macht eine Kulturreise nach Dresden.
                            <span class="tran"><br /><small>미나는 드레스덴으로 문화 여행을 간다.</small></span>
                        </td>
                        <td>
                            <div class="btn-group q" id="qst-1" data-toggle="buttons" role="group">
                                <div class="btn btn-light pop x" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답이 아니에요.">
                                    Richtig
                                </div>
                                <div class="btn btn-light pop o" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답!">
                                    Falsch
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">2.</th>
                        <td>
                            Sie ist vor einer Woche in Dresden angekommen.
                            <span class="tran"><br /><small>그녀는 일주일 전에 드레스덴에 도착했다.</small></span>
                        </td>
                        <td>
                            <div class="btn-group q" data-toggle="buttons" role="group" id="qst-2">
                                <div class="btn btn-light pop x" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답이 아니에요.">
                                    Richtig
                                </div>
                                <div class="btn btn-light pop o" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답!">
                                    Falsch
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">3.</th>
                        <td>
                            Sie hat im Einstufungstest gute Leistung erbracht.
                            <span class="tran"><br /><small>그녀는 반배치시험에서 좋은 성적을 받았다.</small></span>
                        </td>
                        <td>
                            <div class="btn-group q" data-toggle="buttons" role="group" id="qst-3">
                                <div class="btn btn-light pop o" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답!">
                                    Richtig
                                </div>
                                <div class="btn btn-light pop x" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답이 아니에요.">
                                    Falsch
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">4.</th>
                        <td>
                            Sie lernt nur Deutsch.
                            <span class="tran"><br /><small>그녀는 독일어 공부만 한다.</small></span>
                        </td>
                        <td>
                            <div class="btn-group q" data-toggle="buttons" role="group" id="qst-4">
                                <div class="btn btn-light pop x" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답이 아니에요.">
                                    Richtig
                                </div>
                                <div class="btn btn-light pop o" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답!">
                                    Falsch
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">5.</th>
                        <td>
                            Sie hat viele Freunde aus aller Welt kennengelernt.
                            <span class="tran"><br /><small>그녀는 세계 곳곳에서 온 적은 친구들만을 사귀었다.</small></span>
                        </td>
                        <td>
                            <div class="btn-group q" data-toggle="buttons" role="group" id="qst-5">
                                <div class="btn btn-light pop o" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답!">
                                    Richtig
                                </div>
                                <div class="btn btn-light pop x" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답이 아니에요.">
                                    Falsch
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">6.</th>
                        <td>
                            Sie war an diesem Wochenende in Leipzig und Berlin.
                            <span class="tran"><br /><small>그녀는 이번 주말에 라이프치히와 드레스덴에 있었다. </small></span>
                        </td>
                        <td>
                            <div class="btn-group q" data-toggle="buttons" role="group" id="qst-6">
                                <div class="btn btn-light pop o" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답!">
                                    Richtig
                                </div>
                                <div class="btn btn-light pop x" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답이 아니에요.">
                                    Falsch
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">7.</th>
                        <td>
                            Mina war in Prag und hat dort viele Sehenswürdigkeiten gesehen.
                            <span class="tran"><br /><small>미나는 프라하에 다녀왔고 많은 명소들을 보았다.</small></span>
                        </td>
                        <td>
                            <div class="btn-group q" data-toggle="buttons" role="group" id="qst-7">
                                <div class="btn btn-light pop x" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답이 아니에요.">
                                    Richtig
                                </div>
                                <div class="btn btn-light pop o" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답!">
                                    Falsch
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">8.</th>
                        <td>
                            Sie fährt mit der Bahn nach Prag.
                            <span class="tran"><br /><small>그녀는 프라하에 기차를 타고 간다.</small></span>
                        </td>
                        <td>
                            <div class="btn-group q" data-toggle="buttons" role="group" id="qst-8">
                                <div class="btn btn-light pop x" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답이 아니에요.">
                                    Richtig
                                </div>
                                <div class="btn btn-light pop o" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답!">
                                    Falsch
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">9.</th>
                        <td>
                            Sie freut sich auf die Reise nach Prag.
                            <span class="tran"><br /><small>그녀는 프라하로 떠나는 여행이 기쁘다.</small></span>
                        </td>
                        <td>
                            <div class="btn-group q" data-toggle="buttons" role="group" id="qst-9">
                                <div class="btn btn-light pop o" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답!">
                                    Richtig
                                </div>
                                <div class="btn btn-light pop x" data-toggle="popover" data-container="body"
                                     data-placement="top" data-content="정답이 아니에요.">
                                    Falsch
                                </div>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- 정답화인 버튼 시작 -->
        <div class="row">
            <div class="btn my-3 btn-light col-sm-12 col-md-12 col-lg-12" id="chk">
                정답확인
            </div>
        </div>
        <!-- 정답확인 버튼 끝 -->
        <div class="row">
            <div class="col-12">
                <table class="table table-borderless">
                    <thead class="table-light">
                    <tr>
                        <th scope="col">
                            <strong><span class="tipp">TIPP</span>&nbsp;접속사 Konnektoren</strong>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>
                            <ul class="lh250">
                                <li>접속사에는 조건의 의미 wenn(한다면), 주절과 목적절을 이끄는 dass (것이, 것을), ob(인지 아닌지), 시간 의미의 wenn(때),
                                    als(때), während (동안), nachdem(후에), bevor(전에)가 있고 인과적 의미의 weil, da(왜냐하면, 때문에)와 목적의
                                    의미의 damit (위하여)그리고 양보의 의미의 obwohl(불구하고) 등이 있다. 부정관계대명사로는 was, wer 등이 있다.
                                </li>
                                <li>접속사가 이끄는 부문장에서 동사는 문장의 끝에 위치한다.</li>
                                <li>주문장과 부문장사이에는 항상 콤마가 온다.</li>
                                <li>주문장과 먼저 오고 접속사가 이끄는 부 문장이 뒤따라 올 때는 주문장의 동사가 문장의 두번째에 오나 부 분장이 먼저 오고 주문장이 뒤따라 오면 주문장에
                                    동사 다음 주어가 온다.
                                </li>
                            </ul>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>

<div id="last" class="d-none"></div>

<script src="./dev/js/popper.min.js"></script>
<?php require "footer.php"; ?>
<script src="./dev/js/taptogrouph.js"></script>
<script src="./dev/js/howler.core.js"></script>
<!-- 맞고 틀리는지 소리 -->
<?php require_once("./dev/oxsound.php"); ?>
<script>
    $("#0").hide();
    $(".tran").hide();
    /* 각 문장 재생 횟수 초기화 */
    var hm = new Array();
    $(".so").each(function () {
        hm[$(this).attr("id")] = 0;
    });

    $(document).ready(function () {
        /* 소리 출력 전역 변수와 함수 */
        var sen = new Array(),
            pa = new Array(),
            he = new Array(),
            last;
        $(".so").each(function () {
            var t = $(this);
            var ti = t.attr("id");
            sen[ti] = 0;
            pa[ti] = t.html();
        });

        function stopAll() {
            $(".so").each(function () {
                $(this).html(pa[$(this).attr("id")]);
            });
        }

        /* 문제 재생 */
        var nagehts = new Howl({
            src: ["./dev/sounds/Reihe 12/r12 D4.mp3"],
            sprite: {
                "0": [209, 148553]
            },
            html5: true,
            volume: 1,
            format: "mp3",
            preload: true,
            onloaderror: function () {
                $(".alert").append(
                    "<br /><strong class=\"font-weight-bold text-dark display-4\">페이지를 다시 읽어주시기 바래요.</strong>"
                );
                console.log("다시 읽어주세요!");
            },
            onload: function () {
                /* 음성 준비되면 HV 버튼 나타내기 */
                $("#0").show();
                $("#ready").hide();
                $(".so").on("click", function () {
                    var t = $(this);
                    var ti = t.attr("id");
                    if (($("div#last").text() == "" || t.text() == "❚❚") && !t.hasClass(
                        ".itm-lst")) {
                        $("#last").text(ti);
                        t.text("■");
                        nagehts.seek();
                        nagehts.play(ti);
                        sen[ti]++;
                        last = ti;
                        $("#cnt-" + ti).text(sen[ti]);
                    } else if (last == ti && nagehts.playing($("div#last").text())) {
                        $("#last").text("");
                        t.html(pa[ti]);
                        nagehts.pause();
                        sen[ti]--;
                        $("#cnt-" + ti).text(sen[ti]);
                    }
                });

                $("[data-toggle='popover']").popover({
                    delay: {
                        'hide': 1000
                    },
                    container: "body"
                });
                $(".pop").click(function () {
                    /* 가장 먼저 지문에 'an' 넣기 */
                    if (!$(this).siblings().hasClass("an")) {
                        $(this).addClass("an");
                        $(this).addClass("btn-warning");
                        $(this).parent().children().removeClass(
                            "btn-light");
                    };
                    /* 문제 풀이 정도 업데이트 */
                    var perc = Math.round(($(".an").length / $(".q").length) *
                        100);
                    $(".progress>.bar").attr("width", perc + "%;");
                });

                /* 팝업 내용 사라지기 */
                $(".pop").popover().click(function () {
                    setTimeout(function () {
                            $(".pop").popover('hide');
                        },
                        500);
                });

                /* 정답확인 */
                $("#chk").on("click", function () {
                    if ($(this).attr("id") == "chk") {
                        if ($(".an").length < $(".q").length) {
                            var na = "";
                            $(".q").each(function () {
                                if (!$(this).find("div").hasClass("an")) {
                                    if (na != "") {
                                        na += ", ";
                                    }
                                    na += $(this).attr("id").substr(4);
                                };
                            });
                            alert("모든 문제를 풀어주세요.");
                        } else {
                            $(".tran").show();
                            $(this).attr("id", "done");
                            $(".pop").each(function () {
                                $(this).removeClass("btn-info");
                                if ($(this).hasClass("o") && $(this).hasClass(
                                    "an")) {
                                    $(this).removeClass("btn-warning");
                                    $(this).addClass("btn-success");
                                } else if ($(this).hasClass("o")) {
                                    $(this).addClass("btn-primary");
                                } else if ($(this).hasClass("an")) {
                                    $(this).addClass("btn-warning");
                                } else {
                                    $(this).addClass("btn-light");
                                };
                            });

                            /* 정답 확인 div 상자 배경색 속성 없애기 */
                            $(this).removeClass("btn-light ");
                            var qa = $(".q").length; /* 전체 문항 수 */
                            var qr = $(".btn-success").length; /* 맞춘 항목 수 */
                            var pe = (qr / qa) * 100; /* 정답 비율 */
                            var tcl = "white"; /* 기본 문자색 */

                            /* 분류 기준은 100%, 80%, 60%, 40% */
                            if (pe > 99) {
                                var st = "원어민이세요?";
                                var cl = "lime";
                                var tcl = "dark";
                            } else if (pe > 74) {
                                var st = "어! 좀 하시는데요~^^";
                                var cl = "success";
                            } else if (pe > 49) {
                                var st = "쓰읍~ 다시 해 보실까요?";
                                var cl = "primary";
                            } else {
                                var st = "좀 더 분발해 주세요~";
                                var cl = "danger";
                            }
                            $(this).addClass("btn-" + cl + " text-" + tcl);
                            $(this).html("<h4>" + qa + "문제 중 " + qr + "개를 맞히셨네요!<br>" +
                                st + "</h4>");
                        };
                    }
                });
                var pan = new Array();
                pan = [1];
                var il = $(".q").length;
                for (var p = 0; p < pan.length; p++) {
                    var pani = "#qst-" + pan[p];
                    $("#qst-" + pan[p] + ">div.o").addClass("an");
                    $("#qst-" + pan[p] + ">div.o").addClass("btn-warning");
                    $("#qst-" + pan[p] + ">div.o").removeClass("btn-light");
                    $("#qst-" + pan[p] + ">div.o").closest("tr").find(".tran").show();
                }
            },
            onend: function () {
                $("div#last").text("");
                stopAll();
                $("#cnt-" + last).text(sen[last]);
                if (last == 0) {
                    if (sen[last] == 2) {
                        $(".tran").show();
                        $(".so").each(function () {
                            pa[last] = $("#" + last).html();
                        });
                    }
                } else if (sen[last] == 2) {
                    if ($("#" + last).hasClass("itm")) {
                        $("#" + last + ">.tran").show();
                    }
                    $("#" + last).closest("tr").find(".tran").show();
                    pa[last] = $("#" + last).html();
                }
            }
        });
    });

</script>
</body>

</html>

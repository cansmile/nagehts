<?php require_once( "heading.php" ); ?>
<!-- 알림 시작 -->
<?php require_once "ready.php"; ?>
<!-- 알림 끝 -->
<section>
    <div class="container">
        <div class="row">
            <div class="col-lg-12 mb-4 mt-2 text-center">
                <h2> Ergänzen Sie die Lücken.<br/>
                    <small> 빈칸을 채우세요. </small>
                    <button type="button" class="btn btn-<?php echo( $color ); ?> ml-2 btn-inline so" id="0">
                        HV
                    </button>
                    <br/>
                    [ <small>정답을 입력하면 입력란이 초록색으로 표시되고,<br> 오답이 될 때는 입력란이 붉게
                        표시됩니다.</small> ]
                </h2>
            </div>
        </div>
        <div class="row">
            <div class="col-12 wd_inline_inverted">Mina ist in Dresden und nimmt an einem Sommerkurs teil. Darüber
                schreibt sie auf Facebook. Ergänzen Sie die Satzzeichen (./,/?) und auch die passenden Konnektoren.
                Schreiben Sie neu.
                <span class="tran font-weight-bold">&nbsp;<small>미나는 드레스덴에 있고 여름어학코스에 참석합니다. 이에 대해 그녀는 페이스북에 글을 썼습니다. 문장부호(./,/?)와 알맞은 접속사를 채워서 새롭게 써보세요.</small><br/></span>
            </div>
        </div>
        <div class="row lh250">
            <div class="col-sm-12 col-md-6 col-lg-6">
                <div class="row">
                    <div class="col-12 my-5">
                        <div class="row">
                            <div class="col-6 text-center">
                                <img src="./dev/images/Reihe%2011/Reihe-11-D4-1.png"
                                     style="max-width: 100%; height: auto;" alt="Meine Sprachreise">
                            </div>
                            <div class="col-6 text-center">
                                <img src="./dev/images/Reihe%2011/Reihe-11-D4-2.png"
                                     style="max-width: 100%; height: auto;" alt="Meine Sprachreise">
                            </div>
                        </div>
                    </div>
                    <div class="col-12 my-2 border border-dark rounded py-2 lh250">
                        <span class="wd">bevor</span>
                        <span class="wd">da (2x)</span>
                        <span class="wd">dasswie</span>
                        <span class="wd">obwohl</span>
                        <span class="wd">während</span>
                        <span class="wd">weil</span>
                        <span class="wd">wenn</span>
                    </div>
                    <div class="col-11 mx-auto border border-dark rounded">
                        Hallo, ihr Lieben <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>안녕, 사랑하는 친구들</small><br/></span><br/>
                        wie geht es euch <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> Ich freue mich sehr
                        <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> ich euch schreiben kann.
                        <span class="tran"><br><small>어떻게 지내? 너희에게 글을 쓸 수 있어서 기뻐.</small><br/></span><br/>
                        Verbringt ihr schöne Ferien auf der Jeju-Insel <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>너희는 제주도에서 멋진 방학을 보내고 있니?</small><br/></span><br/>
                        <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> ihr wisst <span
                            class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> bin ich seit einer Woche in Dresden
                        und nehme an einem vierwöchigen Sprachkurs teil <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>너희도 알다시피, 나는 1주 전부터 드레스덴에 와서 4주 간의 어학 코스에 참여해.</small><br/></span><br/>
                        Zum Glück hatte ich im Einstufungstest eine gute Note und bin jetzt im B2 Kurs <span
                            class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span
                            class="tran"><br><small>운이 좋게도 반배치 시험에서 좋은 성적을 받아서 지금은 B2 코스를 듣고 있어.</small><br/></span><br/>
                        Ich habe vormittags vier Stunden Sprachkurs und nachmittags Exkursionen <span
                            class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>오전에는 4시간 동안 어학수업을 듣고 오후에는 현장학습을 해.</small><br/></span><br/>
                        Das finde ich gut <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> Hier habe ich
                        schon viele nette Freunde aus der ganzen Welt kennengelernt.
                        <span
                            class="tran"><br><small>좋은 것 같아. 여기에서 세계 곳곳에서 온 여러 친절한 친구들을 알아가고 있어.</small><br/></span><br/>
                        Deutsch zu lernen macht mir Spaß<span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> Am
                        letzten Wochenende bin ich mit anderen Kursteilnehmern nach Leipzig und Berlin gereist <span
                            class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> es als eine Exkursion angeboten
                        wurde<span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>독일어를 배우는 것은 재미있어. 지난 주에 나는 현장학습으로 제공되는 라이프치히와 베를린으로의 여행을 다른 코스 참여자들하고 다녀왔어.</small><br/></span><br/>
                        <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> ich nach Berlin fuhr habe ich im
                        Internet nach den Sehenswürdigkeiten recherchiert <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>베를린에 가기 전에, 나는 인터넷에서 명소들을 탐색했어.</small></span><br/><br/>

                        <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> das Wetter nicht schön war, hatten
                        wir trotzdem viel Spaß <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>unser Leiter
                        Martin uns bei der Führung viele informationsreiche Tipps gegeben hatte. Im Anhang könnt ihr
                        einige Fotos von Berlin und Leipzig sehen
                        <span class="tran"><br><small>날씨는 좋지 않았지만, 그럼에도 우리는 아주 즐거웠어. 우리의 인솔자 마틴이 안내에 있어서 많은 정보를 담은 팁을 주었기 때문이야. 베를린과 리이프치히에서 찍은 사진 몇 장을 첨부했으니 볼 수 있을 거야.</small><br/></span>

                        An diesem Wochenende will ich nach Prag fahren <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> es schon immer einer meiner
                        Traumorte war. Für die Reise habe ich bereits ein Zimmer reserviert und auch ein Auto gemietet
                        <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>그리고 이번 주말에 나는 프라하에 갈거야, 그곳은 내가 항상 가고 싶어했던 꿈의 여행지의 한 곳이기 때문이야. 여행을 위해서 나는 이미 방을 예약했고 자동차도 빌렸어.</small></span><br/>
                        <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> meines Aufenthalts möchte ich dort
                        gerne viele Sehenswürdigkeiten und historische Orte besichtigen <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span
                            class="tran"><br><small>거기에서 머무는 동안, 많은 명소들과 역사적인 장소를 구경하고 싶어. 그럴 수 있다면 너무 기쁠 거야.</small><br/></span><br/>
                        Darauf freue ich mich schon sehr. Ich werde euch später mal einige Fotos von Prag posten <span
                            class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>프라하에서 찍은 사진들을 너희에게 다시 포스팅할게.</small><br/></span><br/>
                        <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> wir uns treffen<span
                            class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span> zeige ich euch dann auch Videos <span
                            class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>우리가 다시 만난다면, 동영상도 보여줄게.</small><br/></span><br/>
                        Ich vermisse euch alle so sehr <span class="wd_inline_red">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span class="tran"><br><small>너희 모두가 너무 그립다.</small><br/></span><br/><br/>
                        Bis bald!
                        <span class="tran"><br><small>곧 만나!</small><br/></span><br/><br/>
                        Eure Mina
                        <span class="tran"><br><small>너희의 미나.</small></span>

                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6">
                <div class="row form-inline">
                    <div class="col-12 my-5">
                        <div class="row">
                            <div class="col-6 text-center">
                                <img src="./dev/images/Reihe%2011/Reihe-11-D4-3.png"
                                     style="max-width: 100%; height: auto;" alt="Meine Sprachreise">
                            </div>
                            <div class="col-6 text-center">
                                <img src="./dev/images/Reihe%2011/Reihe-11-D4-4.png"
                                     style="max-width: 100%; height: auto;" alt="Meine Sprachreise">
                            </div>
                        </div>
                    </div>
                    <div class="col-11 mx-auto border border-dark rounded">
                        Hallo, ihr Lieben<input type="text" style="max-width: 25px; min-width: 25px;"
                                                class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                placeholder="Antwort" aria-label="Antwort" id="qst-1"><br/>
                        wie geht es euch<input type="text" style="max-width: 25px; min-width: 25px;"
                                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                               placeholder="Antwort" aria-label="Antwort" id="qst-2"> Ich freue mich
                        sehr, dass ich euch schreiben kann.<br/>
                        Verbringt ihr schöne Ferien auf der Jeju-Insel<input type="text"
                                                                             style="max-width: 25px; min-width: 25px;"
                                                                             class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                             placeholder="Antwort" aria-label="Antwort"
                                                                             id="qst-3"><br/>
                        <input type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                               placeholder="Antwort" aria-label="Antwort" id="qst-4"> ihr wisst<input type="text"
                                                                                                      style="max-width: 25px; min-width: 25px;"
                                                                                                      class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                                      placeholder="Antwort"
                                                                                                      aria-label="Antwort"
                                                                                                      id="qst-5"> bin
                        ich seit einer Woche in Dresden und nehme an einem vierwöchigen Sprachkurs teil<input
                            type="text" style="max-width: 25px; min-width: 25px;"
                            class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                            placeholder="Antwort" aria-label="Antwort" id="qst-6"><br/>
                        Zum Glück hatte ich im Einstufungstest eine gute Note und bin jetzt im B2 Kurs<input type="text"
                                                                                                             style="max-width: 25px; min-width: 25px;"
                                                                                                             class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                                             placeholder="Antwort"
                                                                                                             aria-label="Antwort"
                                                                                                             id="qst-7"><br/>
                        Ich habe vormittags vier Stunden Sprachkurs und nachmittags Exkursionen<input type="text"
                                                                                                      style="max-width: 25px; min-width: 25px;"
                                                                                                      class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                                      placeholder="Antwort"
                                                                                                      aria-label="Antwort"
                                                                                                      id="qst-8"><br/>
                        Das finde ich gut<input type="text" style="max-width: 25px; min-width: 25px;"
                                                class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                placeholder="Antwort" aria-label="Antwort" id="qst-9"> Hier habe ich
                        schon viele nette Freunde aus der ganzen Welt kennengelernt.<br/>
                        Deutsch zu lernen macht mir Spaß<input type="text" style="max-width: 25px; min-width: 25px;"
                                                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                               placeholder="Antwort" aria-label="Antwort" id="qst-10">
                        Am letzten Wochenende bin ich mit anderen Kursteilnehmern nach Leipzig und Berlin gereist<input
                            type="text" style="max-width: 25px; min-width: 25px;"
                            class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                            placeholder="Antwort" aria-label="Antwort" id="qst111"> <input type="text"
                                                                                           style="max-width: 80px; min-width: 80px;"
                                                                                           class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                           placeholder="Antwort"
                                                                                           aria-label="Antwort"
                                                                                           id="qs12-1"> es als eine
                        Exkursion angeboten wurde<input type="text" style="max-width: 25px; min-width: 25px;"
                                                        class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                        placeholder="Antwort" aria-label="Antwort" id="q13t-1"><br/>
                        <input type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                               placeholder="Antwort" aria-label="Antwort" id="qst-14"> ich nach Berlin fuhr, habe ich im
                        Internet nach den Sehenswürdigkeiten recherchiert<input type="text"
                                                                                style="max-width: 25px; min-width: 25px;"
                                                                                class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                placeholder="Antwort"
                                                                                aria-label="Antwort" id="qst151"><br/>
                        <input type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                               placeholder="Antwort" aria-label="Antwort" id="qst-16"> das Wetter nicht schön war,
                        hatten wir trotzdem viel Spaß<input type="text" style="max-width: 25px; min-width: 25px;"
                                                            class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                            placeholder="Antwort" aria-label="Antwort" id="qst171">
                        <input type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                               placeholder="Antwort" aria-label="Antwort" id="qs18-1"> unser Leiter Martin uns bei der
                        Führung viele informationsreiche Tipps gegeben hatte. Im Anhang könnt ihr einige Fotos von
                        Berlin und Leipzig sehen<input type="text" style="max-width: 25px; min-width: 25px;"
                                                       class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                       placeholder="Antwort" aria-label="Antwort" id="q19t-1"><br/>
                        <br/>
                        An diesem Wochenende will ich nach Prag fahren<input type="text"
                                                                             style="max-width: 25px; min-width: 25px;"
                                                                             class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                             placeholder="Antwort" aria-label="Antwort"
                                                                             id="qst-20"> <input type="text"
                                                                                                 style="max-width: 80px; min-width: 80px;"
                                                                                                 class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                                 placeholder="Antwort"
                                                                                                 aria-label="Antwort"
                                                                                                 id="qst211"> es schon
                        immer einer meiner Traumorte war. Für die Reise habe ich bereits ein Zimmer reserviert und auch
                        ein Auto gemietet<input type="text" style="max-width: 25px; min-width: 25px;"
                                                class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                placeholder="Antwort" aria-label="Antwort" id="qs22-1"> <input
                            type="text" style="max-width: 80px; min-width: 80px;"
                            class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                            placeholder="Antwort" aria-label="Antwort" id="q23t-1"> meines Aufenthalts möchte ich dort
                        gerne viele Sehenswürdigkeiten und historische Orte besichtigen<input type="text"
                                                                                              style="max-width: 25px; min-width: 25px;"
                                                                                              class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                              placeholder="Antwort"
                                                                                              aria-label="Antwort"
                                                                                              id="24st-1"> Darauf freue
                        ich mich schon sehr. Ich werde euch später mal auch einige Fotos von Prag posten<input
                            type="text" style="max-width: 25px; min-width: 25px;"
                            class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                            placeholder="Antwort" aria-label="Antwort" id=25qst-1"> <input type="text"
                                                                                           style="max-width: 80px; min-width: 80px;"
                                                                                           class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                           placeholder="Antwort"
                                                                                           aria-label="Antwort" id26"qst-1">
                        wir uns treffen<input type="text" style="max-width: 25px; min-width: 25px;"
                                              class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                              placeholder="Antwort" aria-label="Antwort" i27="qst-1"> zeige ich euch
                        dann auch Videos<input type="text" style="max-width: 25px; min-width: 25px;"
                                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                               placeholder="Antwort" aria-label="Antwort" 28d="qst-1"><br/>
                        Ich vermisse euch alle so sehr<input type="text" style="max-width: 25px; min-width: 25px;"
                                                             class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                             placeholder="Antwort" aria-label="Antwort"
                                                             id="qst-29"><br/>
                        Bis bald!<br/>
                        Eure Mina<br/>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-12"><span class="tipp">TIPP</span>접속사 <small>Konnektoren</small></div>
            <div class="col-12 my-3 border border-dark rounded py-2 lh250">
                <span class="wd">문장의 두번째</span>
                <span class="wd">문장의 끝</span>
                <span class="wd">콤마</span>
            </div>
            <div class="col-12 lh250 d-inline-block text-break">
                <i class="xi-angle-down mr-1 mt-3"></i>접속사에는 조건의 의미 wenn(한다면), 주절과 목적절을 이끄는 dass (것이, 것을), ob(인지 아닌지),
                시간 의미의 wenn(때), als(때), während (동안), nachdem(후에), bevor(전에)가 있고 인과적 의미의 weil, da(왜냐하면, 때문에)와 목적의 의미의
                damit (위하여)그리고 양보의 의미의 obwohl(불구하고) 등이 있다. 부정관계대명사로는 was, wer 등이 있다.<br/>
                <div class="input-group">
                    <i class="xi-angle-down mr-1 mt-3"></i>접속사가 이끄는 부문장에서 동사는 <input type="text"
                                                                                     style="max-width: 80px; min-width: 80px;"
                                                                                     class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                     placeholder="Antwort"
                                                                                     aria-label="Antwort"
                                                                                     id="qst-30">에
                    위치한다.<br/>
                </div>
                <div class="input-group">
                    <i class="xi-angle-down mr-1 mt-3"></i>주문장과 부문장사이에는 항상 <input type="text"
                                                                                  style="max-width: 80px; min-width: 80px;"
                                                                                  class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                                                                                  placeholder="Antwort"
                                                                                  aria-label="Antwort"
                                                                                  id="qst-31">가
                    온다.<br/>
                </div>
                <div class="input-group">
                    <i class="xi-angle-down mr-1 mt-3"></i>주문장과 먼저 오고 접속사가 이끄는 부 문장이 뒤따라 올 때는 주문장의
                    동사가 <input type="text" style="max-width: 80px; min-width: 80px;"
                               class="form-control q rounded-0 border border-dark border-bottom-only text-center mx-1 px-2 py-1"
                               placeholder="Antwort" aria-label="Antwort" id="qst-32">에 오나 부 분장이 먼저 오고 주문장이 뒤따라 오면 주문장에
                    동사 다음 주어가 온다.
                </div>
            </div>
        </div>
        <!-- 정답화인 버튼 시작 -->
        <div class="row">
            <div class="btn my-3 btn-light col-sm-12 col-md-12 col-lg-12" id="chk">
                정답확인
            </div>
        </div>
        <!-- 정답확인 버튼 끝 -->
    </div>
</section>

<div id="last" class="d-none"></div>

<?php require "footer.php"; ?>
<script src="./dev/js/howler.core.js"></script>
<!-- 맞고 틀리는지 소리 -->
<?php require_once( "./dev/oxsound.php" ); ?>
<script>
    $("#0").hide();
    $(".tran").hide();
    $(".ant").hide();
    var an = new Array();
    var an = [",", "?", "?", "Wie", ",", ".", ".", ".", ".", ".", ",", "da", ".", "Bevor", ".", "Obwohl", ",", "da", ".", ",", "weil", ".", "Während", ".", ".", "Wenn", ",", ".", ".", "문장의 끝", "콤마", "문장의 두번째"];
    /* 각 문장 재생 횟수 초기화 */
    var hm = new Array(),
        sen = new Array();
    $(".so").each(function () {
        hm[$(this).attr("id")] = 0;
        sen[$(this).attr("id")] = $("#" + $(this).attr("id"))
            .html();
    });

    $(document).ready(function () {
        /* 소리 출력 전역 변수와 함수 */
        var sen = new Array(),
            pa = new Array(),
            he = new Array(),
            last;
        $(".so").each(function () {
            var t = $(this);
            var ti = t.attr("id");
            sen[ti] = 0;
            pa[ti] = t.html();
        });

        function stopAll() {
            $(".so").each(function () {
                $(this).html(pa[$(this).attr("id")]);
            });
        } /* 문제 재생 */
        var nagehts = new Howl({
            src: ["./dev/sounds/Reihe 11/r11 D4.mp3"],
            sprite: {
                "0": [209, 148553]
            },
            html5: true,
            volume: 1,
            format: "mp3",
            preload: true,
            onloaderror: function () {
                $(".alert").append(
                    "<br /><strong class=\"font-weight-bold text-dark display-4\">페이지를 다시 읽어주시기 바래요.</strong>"
                );
                console.log("다시 읽어주세요!");
            },
            onload: function () {
                /* 음성 준비되면 HV 버튼 나타내기 */
                $("#0").show();
                $(".alert").hide();
                $(".so").on("click", function () {
                    var t = $(this);
                    var ti = t.attr("id");
                    if (($("div#last").text() == "" || t.text() == "❚❚") && !t.hasClass(
                        ".itm-lst")) {
                        $("#last").text(ti);
                        t.text("■");
                        nagehts.seek();
                        nagehts.play(ti);
                        sen[ti]++;
                        last = ti;
                        $("#cnt-" + ti).text(sen[ti]);
                    } else if (last == ti && nagehts.playing($("div#last").text())) {
                        $("#last").text("");
                        t.html(pa[ti]);
                        nagehts.pause();
                        sen[ti]--;
                        $("#cnt-" + ti).text(sen[ti]);
                    }
                });

                /* 값 확인해보자, io값이 참이면 전체 검사 */
                function rfchk(th, io) {
                    var q, qn, a, b, fl;
                    q = th.val().length;
                    qn = (th.attr("id").substr(4)) - 1;
                    a = th.val();
                    a = a.replace(/ /gi, "");
                    di(th);
                    if (!$.isArray(an[qn])) {/* 1 인 경우 */
                        if (io) {
                            b = an[qn];
                        } else {
                            b = an[qn].substr(0, q);
                        }
                        b = b.replace(/ /gi, "");
                        if (a == b) {
                            return true;
                        }
                    } else {/* 2 이상인 경우 */
                        for (var fd = 0; fd < an[qn].length; fd++) {
                            if (io) {
                                b = an[qn][fd];
                            } else {
                                b = an[qn][fd].substr(0, q);
                            }
                            b = b.replace(/ /gi, "");
                            if (a == b) {
                                return true;
                            }
                        }
                    }
                }

                /* 역동적 입력란 */
                function di(th) {
                    var le = 0, mp = 8, l = th.val().length;
                    if (l < 5) {
                        var mp = 10;
                    } else if (l > 30) {
                        var mp = 6;
                    } else if (l < 30) {
                        var mp = 8;
                    } else {
                        var mp = 8;
                    }
                    if (l >= 5) {
                        le = l;
                    } else {
                        le = 5;
                    }
                    var w = (le + 1) * mp + "px";
                    th.addClass("mx-1");
                    th.css("min-width", w);
                    th.css("max-width", w);
                    th.css("width", w);
                };

                $(".q").on("keyup", function () {
                    $(this).removeClass("bg-danger");
                    $(this).removeClass("bg-success");
                    $("#ant-" + $(this).attr("id").substr(4)).removeClass("text-danger");
                    $("#ant-" + $(this).attr("id").substr(4)).removeClass("text-success");
                    if (rfchk($(this))) {
                        $(this).addClass("text-white font-weight-bold");
                        $(this).addClass("bg-success");
                        $("#ant-" + $(this).attr("id").substr(4)).addClass("text-success");
                    } else {
                        $(this).addClass("text-white font-weight-bold");
                        $(this).addClass("bg-danger");
                        $("#ant-" + $(this).attr("id").substr(4)).addClass("text-danger");
                    }
                    if (!$(this).val()) {
                        $(this).removeClass("bg-danger");
                        $(this).removeClass("bg-success");
                        $(this).removeClass("text-white font-weight-bold");
                    }
                    if ($(this).val()) {
                        $("#ant-" + $(this).attr("id").substr(4)).show();
                        $("#ant-" + $(this).attr("id").substr(4)).text($(this).val());
                    } else {
                        $("#ant-" + $(this).attr("id").substr(4)).hide();
                    }
                });
                $(".q").on("focusin", function () {
                    $("#ant-" + $(this).attr("id").substr(4)).show();
                    if (!$("#ant-" + $(this).attr("id").substr(4)).text()) {
                        $("#ant-" + $(this).attr("id").substr(4)).text($(this).val());
                    }
                    if ($("#ant-" + $(this).attr("id").substr(4)).text()) {
                        if (rfchk($(this))) {
                            $(this).addClass("text-white font-weight-bold");
                            $(this).addClass("bg-success");
                            $("#ant-" + $(this).attr("id").substr(4)).addClass("text-success");
                        } else {
                            $(this).addClass("text-white font-weight-bold");
                            $(this).addClass("bg-danger");
                            $("#ant-" + $(this).attr("id").substr(4)).addClass("text-danger");
                        }
                    }
                });
                $(".q").on("focusout", function () {
                    $("#ant-" + $(this).attr("id").substr(4)).hide();
                    if (rfchk($(this), true)) {
                        $(this).addClass("bg-success");
                        $(this).addClass("text-white");
                    } else {
                        $(this).addClass("bg-danger");
                    }
                    if ($(this).val()) {
                        if ($(this).hasClass("bg-danger")) {
                            x.play();
                        } else if ($(this).hasClass("bg-success")) {
                            o.play();
                            $(this).prop("disabled", true);
                        }
                    }
                    $(this).removeClass("bg-danger");
                    if (!$(this).attr("disabled")) {
                        $(this).removeClass("text-white font-weight-bold");
                        $(this).removeClass("bg-success");
                    }
                })
                /* 입력하는 문자 확인(정답 표시 없음) 여기까지 */
                $("#chk").on("click", function () {
                    var na = "";
                    var ri = 0;
                    var qst = $(".q").length;
                    $(".q").each(function () {
                        if (na != "") {
                            na += ", ";
                        }
                        if ($(this).val() == "") {
                            na += $(this).attr("id").substr(4, 1);
                        }
                    });
                    if ($(this).attr("id") == "done") {
                    } else if (na == "") {
                        for (var i = 0; i < an.length; i++) {
                            var oran = $("#qst-" + (i + 1)).val();
                            if (rfchk($("#qst-" + (i + 1)), true)) {
                                $("#qst-" + (i + 1)).addClass("cr");
                                $("#qst-" + (i + 1)).removeClass("rounded-0");
                            } else {
                                $("#qst-" + (i + 1)).val(oran);
                                $("#qst-" + (i + 1)).attr("disabled", true);
                                $("#qst-" + (i + 1)).addClass("wa");
                                $("#qst-" + (i + 1)).removeClass("rounded-0");
                                if (!$.isArray(an[i])) {
                                    $("#qst-" + (i + 1)).after(
                                        "<div class=\"d-block ra t-6\" style=\"max-width: 100px;\">" +
                                        an[i] + "</div>");
                                } else {
                                    /* 2 이상인 경우 */
                                    var r =
                                        "<div class=\"d-block ra t-6\" style=\"max-width: 100px;\">";
                                    for (var fd = (an[i].length - 1); fd >= 0; fd--) {
                                        if (fd < (an[i].length - 1)) {
                                            r = r + " / ";
                                        }
                                        r = r + an[i][fd];
                                    }
                                    r = r + "</div>";
                                    if ($("span.sen").length > 0) {
                                        $("#qst-" + (i + 1)).closest("span.sen").after(
                                            r);
                                    } else {
                                        $("#qst-" + (i + 1)).after(r);
                                    }
                                }
                            }
                            if ($("#qst-" + (i + 1)).hasClass("bg-success")) {
                                ri++;
                            }
                        }
                        ; /* 정답 확인 div 상자 배경색 속성 없애기 */
                        $(this).removeClass("btn-light ");
                        var qa = $(".q").length; /* 전체 문항 수 */
                        var qr = $(".bg-success").length; /* 맞춘 항목 수 */
                        var pe = (qr / qa) * 100; /* 정답 비율 */
                        var tcl = "white"; /* 기본 문자색 */
                        /* 분류 기준은 100%, 80%, 60%, 40% */
                        if (pe > 99) {
                            var st = "원어민이세요?";
                            var cl = "lime";
                            var tcl = "dark";
                        } else if (pe > 74) {
                            var st = "어! 좀 하시는데요~^^";
                            var cl = "success";
                        } else if (pe > 49) {
                            var st = "쓰읍~ 다시 해 보실까요?";
                            var cl = "primary";
                        } else {
                            var st = "좀 더 분발해 주세요~";
                            var cl = "danger";
                        }
                        $(this).addClass("btn-" + cl + " text-" + tcl);
                        $(this).html("<h4>" + qa + "문제 중 " + qr + "개를 맞히셨네요!<br>" + st +
                            "</h4>");
                        $(this).prop("disabled", true);
                        $(".tran").show();
                        $(this).attr("id", "done");
                    } else {
                        alert("모든 문제를 풀어주세요!");
                    }
                    ;
                });
                var pan = new Array();
                pan = [1, 6, 15, 19, 21];
                for (var p = 0; p < pan.length; p++) {
                    var pann = "#qst-" + pan[p];
                    $(pann).val(an[(pan[p] - 1)]);
                    $(pann).addClass("bg-success text-white font-weight-bold");
                    $(pann).prop("disabled", true);
                    di($(pann));
                }
                $("#0").show();
                $(".alert").hide();

            },
            onend: function () {
                $("div#last").text("");
                stopAll();
                $("#cnt-" + last).text(sen[last]);
                if (last == 0) {
                    if (sen[last] == 2) {
                        $(".tran").show();
                        $(".so").each(function () {
                            pa[last] = $("#" + last).html();
                        });
                    }
                } else if (sen[last] == 2) {
                    if ($("#" + last).hasClass("itm")) {
                        $("#" + last + ">.tran").show();
                    }
                    $("#" + last).closest("tr").find(".tran").show();
                    pa[last] = $("#" + last).html();
                }
            }
        });
    });
</script>
</body>

</html>

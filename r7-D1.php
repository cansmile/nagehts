<?php include "header.php"; ?>
	<body>
<?php include "nav.php"; ?>
		<section>
			<div class="container">
							<!-- 고르는 아이템들 -->
				<div class="row">
					<div class="col-lg-12 mb-4 mt-2 text-center">
						<h3>[ <small>단어를 선택하고 알맞은 위치의 노란 단추를 누르세요.</small> ]</h3>
					</div>
				</div>
				<div class="row">
					<div class="my-2 col-xs-12 col-sm-12 col-md-12 col-lg-12" id="itms">
						<button type="button" class="mt-1 mx-1 btn ans6 btn-lg btn-outline-dark itm" id="1">
							Fußball<span class="tran"><br><small>축구</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="2">
							Karten<span class="tran"><br><small>카드 놀이하다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="3">
							Tennis spielen<span class="tran"><br><small>테니스 하기</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="4">
							in den Park gehen<span class="tran"><br><small>공원에 가다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="5">
							in die Disko<span class="tran"><br><small>디스코장에서</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans8 btn-lg btn-outline-dark itm" id="6">
							in die Oper<span class="tran"><br><small>오페라 하우스에서</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans3 btn-lg btn-outline-dark itm" id="7">
							in die Stadt<span class="tran"><br><small>시내에서</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="8">
							in die Bibliothek gehen<span class="tran"><br><small>도서관에 가다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="9">
							ins Kino<span class="tran"><br><small>영화관에서</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans7 btn-lg btn-outline-dark itm" id="10">
							ins Theater<span class="tran"><br><small>극장에서</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans2 btn-lg btn-outline-dark itm" id="11">
							ins Museum<span class="tran"><br><small>박물관에서</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans1 btn-lg btn-outline-dark itm" id="12">
							ins Konzert gehen<span class="tran"><br><small>콘서트에 가다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="13">
							fotografieren<span class="tran"><br><small>사진찍다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="14">
							joggen<span class="tran"><br><small>조깅하다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="15">
							lesen<span class="tran"><br><small>읽다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans5 btn-lg btn-outline-dark itm" id="16">
							schwimmen<span class="tran"><br><small>수영하다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="17">
							tanzen<span class="tran"><br><small>춤추다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="18">
							Fahrrad fahren<span class="tran"><br><small>운전하다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="19">
							spazieren gehen<span class="tran"><br><small>산책하다</small></span>
						</button>
						<button type="button" class="mt-1 mx-1 btn ans0 btn-lg btn-outline-dark itm" id="20">
							Musik hören<span class="tran"><br><small>음악 듣기</small></span>
						</button>
					</div>
				</div>
				<div class="row" id="lsts">
					<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-3">
						<table class="table border-0">
							<tbody>
								<tr>
									<td height="350" class="border-0 align-middle"><img src="./images/Reihe 7/Reihe-7-D1-1.png" alt="Wo ist das?" style="max-width: 100%; height: auto;"></td>
								</tr>
								<tr>
									<td class="border-0">
										<div style="min-height: 240px;" class="rounded-top itm-lst pt-1 p-2 border border-dark" id="lst-1">
											<h2 class="btn btn-warning btn-xl ttl d-block">▼</h2>&nbsp;
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-3">
						<table class="table border-0">
							<tbody>
								<tr>
									<td height="350" class="border-0 align-middle"><img src="./images/Reihe 7/Reihe-7-D1-2.png" alt="Wo ist das?" style="max-width: 100%; height: auto;"></td>
								</tr>
								<tr>
									<td class="border-0">
										<div style="min-height: 240px;" class="rounded-top itm-lst pt-1 p-2 border border-dark" id="lst-2">
											<h2 class="btn btn-warning btn-xl ttl d-block">▼</h2>&nbsp;
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-3">
						<table class="table border-0">
							<tbody>
								<tr>
									<td height="350" class="border-0 align-middle"><img src="./images/Reihe 7/Reihe-7-D1-3.png" alt="Wo ist das?" style="max-width: 100%; height: auto;"></td>
								</tr>
								<tr>
									<td class="border-0">
										<div style="min-height: 240px;" class="rounded-top itm-lst pt-1 p-2 border border-dark" id="lst-3">
											<h2 class="btn btn-warning btn-xl ttl d-block">▼</h2>&nbsp;
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-3">
						<table class="table border-0">
							<tbody>
								<tr>
									<td height="350" class="border-0 align-middle"><img src="./images/Reihe 7/Reihe-7-D1-4.png" alt="Wo ist das?" style="max-width: 100%; height: auto;"></td>
								</tr>
								<tr>
									<td class="border-0">
										<div style="min-height: 240px;" class="rounded-top itm-lst pt-1 p-2 border border-dark" id="lst-4">
											<h2 class="btn btn-warning btn-xl ttl d-block">▼</h2>&nbsp;
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-3">
						<table class="table border-0">
							<tbody>
								<tr>
									<td height="350" class="border-0 align-middle"><img src="./images/Reihe 7/Reihe-7-D1-5.png" alt="Wo ist das?" style="max-width: 100%; height: auto;"></td>
								</tr>
								<tr>
									<td class="border-0">
										<div style="min-height: 240px;" class="rounded-top itm-lst pt-1 p-2 border border-dark" id="lst-5">
											<h2 class="btn btn-warning btn-xl ttl d-block">▼</h2>&nbsp;
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-3">
						<table class="table border-0">
							<tbody>
								<tr>
									<td height="350" class="border-0 align-middle"><img src="./images/Reihe 7/Reihe-7-D1-6.png" alt="Wo ist das?" style="max-width: 100%; height: auto;"></td>
								</tr>
								<tr>
									<td class="border-0">
										<div style="min-height: 240px;" class="rounded-top itm-lst pt-1 p-2 border border-dark" id="lst-6">
											<h2 class="btn btn-warning btn-xl ttl d-block">▼</h2>&nbsp;
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-3">
						<table class="table border-0">
							<tbody>
								<tr>
									<td height="350" class="border-0 align-middle"><img src="./images/Reihe 7/Reihe-7-D1-7.png" alt="Wo ist das?" style="max-width: 100%; height: auto;"></td>
								</tr>
								<tr>
									<td class="border-0">
										<div style="min-height: 240px;" class="rounded-top itm-lst pt-1 p-2 border border-dark" id="lst-7">
											<h2 class="btn btn-warning btn-xl ttl d-block">▼</h2>&nbsp;
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-3">
						<table class="table border-0">
							<tbody>
								<tr>
									<td height="350" class="border-0 align-middle"><img src="./images/Reihe 7/Reihe-7-D1-8.png" alt="Wo ist das?" style="max-width: 100%; height: auto;"></td>
								</tr>
								<tr>
									<td class="border-0">
										<div style="min-height: 240px;" class="rounded-top itm-lst pt-1 p-2 border border-dark" id="lst-8">
											<h2 class="btn btn-warning btn-xl ttl d-block">▼</h2>&nbsp;
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-3 text-center">
						<table class="table border-0">
							<tbody>
								<tr>
									<td height="250" class="border-0 align-middle"><img src="./images/Reihe 7/Reihe-7-D1-9.png" alt="Wo ist das?" style="max-width: 100%; max-height: 100%; width: auto; height: auto;"></td>
								</tr>
								<tr>
									<td class="border-0">
										<div style="min-height: 240px;" class="rounded-top itm-lst pt-1 p-2 border border-dark" id="lst-9">
											<h2 class="btn btn-warning btn-xl ttl d-block">▼</h2>&nbsp;
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12 mb-4 mt-2 text-center">
						<h2> Bilden Sie Sätze. <small> 작문해보세요. </small></h2>
					</div>
				</div>
				<div class="row">
					<div class="col">
						<table class="table">
							<tbody>
								<tr>
									<th class="border-0" scope="row" width="50">1.</th>
									<td class="border-0">ich, ins Kino</td>
									<td class="border-0">
										<div class="ant" id="ant-1"></div>
										<div class="input-group">										
											<input type="text" class="form-control q" aria-label="." id="qst-1">
										</div><span class="tran"><small><br>네, 치우는 거 좋아해요.</small>
									</td>
								</tr>
								<tr>
									<th class="border-0" scope="row" width="50">2.</th>
									<td class="border-0">Words</td>
									<td class="border-0">
										<div class="ant" id="ant-2"></div>
										<div class="input-group">										
											<input type="text" class="form-control q" aria-label="." id="qst-2">
										</div><span class="tran"><small><br>네, 치우는 거 좋아해요.</small>
									</td>
								</tr>
								<tr>
									<th class="border-0" scope="row" width="50">3.</th>
									<td class="border-0">Words</td>
									<td class="border-0">
										<div class="ant" id="ant-3"></div>
										<div class="input-group">										
											<input type="text" class="form-control q" aria-label="." id="qst-3">
										</div><span class="tran"><small><br>네, 치우는 거 좋아해요.</small>
									</td>
								</tr>
								<tr>
									<th class="border-0" scope="row" width="50">4.</th>
									<td class="border-0">Words</td>
									<td class="border-0">
										<div class="ant" id="ant-4"></div>
										<div class="input-group">										
											<input type="text" class="form-control q" aria-label="." id="qst-4">
										</div><span class="tran"><small><br>네, 치우는 거 좋아해요.</small>
									</td>
								</tr>
								<tr>
									<th class="border-0" scope="row" width="50">5.</th>
									<td class="border-0">Words</td>
									<td class="border-0">
										<div class="ant" id="ant-5"></div>
										<div class="input-group">										
											<input type="text" class="form-control q" aria-label="." id="qst-5">
										</div><span class="tran"><small><br>네, 치우는 거 좋아해요.</small>
									</td>
								</tr>
								<tr>
									<th class="border-0" scope="row" width="50">6.</th>
									<td class="border-0">Words</td>
									<td class="border-0">
										<div class="ant" id="ant-6"></div>
										<div class="input-group">										
											<input type="text" class="form-control q" aria-label="." id="qst-6">
										</div><span class="tran"><small><br>네, 치우는 거 좋아해요.</small>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>

				<!-- 정답화인 버튼 시작 -->
				<div class="row">
					<div class="btn my-3 btn-light col-sm-12 col-md-12 col-lg-12" id="chk">
						정답확인
					</div>
				</div>
				<!-- 정답확인 버튼 끝 -->

			</div>
		</section>
		

		
<?php include "footer.php"; ?>
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="./js/jquery-3.3.1.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="./js/popper.min.js"></script>
		<script src="./js/bootstrap.js"></script>
		<script src="./js/taptogroup.js"></script>
		<!-- interact.min.js -->
		<script src="./js/ion.sound.min.js"></script>
		<script>
			$(".tran").hide();
			$(".ant").hide();

			var an = new Array(), antr = new Array();
			var an = ["Ich gehe ins Kino. Da sehe ich einen Film.","Sie geht in die Bibliothek. Da liest sie Bücher","Er geht in den Park. Da joggt er.","Er geht ins Konzert. Da hört er Musik."];
			var antr = ["Ich gehe ins Kino. Da sehe ich einen Film","Sie geht in die Bibliothek. Da liest sie Bücher","Er geht in den Park. Da joggt er.","Er geht ins Konzert. Da hört er Musik."];

			$(document).ready(function() {
/* 입력하는 문자 확인(정답 표시 없음) 여기부터 */
// 값 확인해보자, io값이 참이면 전체 검사
function rfchk(th,io) {
	var q, qn, a, b, fl;
	q = th.val().length;
	qn = (th.attr("id").substr(4))-1;
	a = th.val();
	a = a.replace(/ /gi, "");
	if(!$.isArray(an[qn])) {
		// 1 인 경우 
		if(io) {
			b = an[qn];
		} else {
			b = an[qn].substr(0,q);
		}
		b = b.replace(/ /gi, "");

		if(a == b) {
			return true;
		}

	} else {
		// 2 이상인 경우
		for(var fd = 0; fd < an[qn].length; fd++) {
			if(io) {
				b = an[qn][fd];
			} else {
				b = an[qn][fd].substr(0,q);
			}
			b = b.replace(/ /gi, "");
			
			if(a == b) {
				return true;
			}
		}
		
	}
}
				$(".q").on("keyup", function () {
					$(this).removeClass("bg-danger");
					$(this).removeClass("bg-success");
					$("#ant-"+$(this).attr("id").substr(4)).removeClass("text-danger");
					$("#ant-"+$(this).attr("id").substr(4)).removeClass("text-success");

					if(rfchk($(this))) {
						$(this).addClass("text-white font-weight-bold");
						$(this).addClass("bg-success");
						$("#ant-"+$(this).attr("id").substr(4)).addClass("text-success");
					} else {
						$(this).addClass("text-white font-weight-bold");
						$(this).addClass("bg-danger");
						$("#ant-"+$(this).attr("id").substr(4)).addClass("text-danger");
					}

					if(!$(this).val()) {
						$(this).removeClass("bg-danger");
						$(this).removeClass("bg-success");
						$(this).removeClass("text-white font-weight-bold");
					}
					
					if($(this).val()) {
						$("#ant-"+$(this).attr("id").substr(4)).show();
						$("#ant-"+$(this).attr("id").substr(4)).text($(this).val());
					} else {
						$("#ant-"+$(this).attr("id").substr(4)).hide();
					}
				})

				$(".q").on("focusin", function() {
					$("#ant-"+$(this).attr("id").substr(4)).show();
					if(!$("#ant-"+$(this).attr("id").substr(4)).text()) {
						$("#ant-"+$(this).attr("id").substr(4)).text($(this).val());
					}
					if($("#ant-"+$(this).attr("id").substr(4)).text()) {
						if(rfchk($(this))) {
							$(this).addClass("text-white font-weight-bold");
							$(this).addClass("bg-success");
							$("#ant-"+$(this).attr("id").substr(4)).addClass("text-success");
						} else {
							$(this).addClass("text-white font-weight-bold");
							$(this).addClass("bg-danger");
							$("#ant-"+$(this).attr("id").substr(4)).addClass("text-danger");
						}
					}
				})

				$(".q").on("focusout", function() {
					$("#ant-"+$(this).attr("id").substr(4)).hide();

					if(rfchk($(this),true)) {
						$(this).addClass("bg-success");
						$(this).addClass("text-white");
					} else {
						$(this).addClass("bg-danger");
					}
					if($(this).val()) {
						if($(this).hasClass("bg-danger")) {
							ion.sound.play("Cartoon_Boing");
						} else if($(this).hasClass("bg-success")){
							ion.sound.play("Bama_Country_Country");
							$(this).prop("disabled",true);
						}
					}

					$(this).removeClass("bg-danger");
					if(!$(this).attr("disabled")) {
						$(this).removeClass("text-white font-weight-bold");
						$(this).removeClass("bg-success");
					}
				})
/* 입력하는 문자 확인(정답 표시 없음) 여기까지 */

				$("#chk").on("click", function() {
					var na = "";
					var ri = 0;
					var qst = $(".q").length;
					$(".q").each(function () {
						if(na != "") {
							na += ", ";
						}
						if($(this).val() == "") {
							na += $(this).attr("id").substr(4,1);
						}
					})
					
					if($(this).attr("id") == "done") {} else if(na == "" && $("#itms>button.ans0").length == $("#itms>button").length) {
						for(var i = 0; i < an.length; i++) {
							var oran = $("#qst-"+(i+1)).val();
							if(rfchk($("#qst-"+(i+1)))) {
								$("#qst-"+(i+1)).addClass("bg-success text-white");
							} else {
								$("#qst-"+(i+1)).val(an[i]);
								$("#qst-"+(i+1)).attr("disabled",true);
								$("#qst-"+(i+1)).parent().append("<span class=\"ml-5 text-danger\">"+oran+"</span>");
							}

							if($("#qst-"+(i+1)).hasClass("bg-success")) {
								ri++;
							}

						}

					if (ri < (qst/2)) {
						$(this).html('<h4>' + qst + "문제 중 " + ri + "개를 맞추셨네요!</h4>");
						$(this).addClass("bg-danger text-white");
					} else if(ri == qst) {
						$(this).html('<h4>' + qst + "문제 중 " + ri + "개를 맞추셨네요!<br>혹시 독일인이세요?</h4>");
						$(this).addClass("bg-primary text-white");
					} else {
						$(this).html('<h4>' + qst + "문제 중 " + ri + "개를 맞추셨네요!<br>훌륭합니다!</h4>");
						$(this).addClass("bg-warning text-white");
					}

					$(this).prop("disabled", true);
					$(".tran").show();
					$(this).attr("id","done");
					} else {
						alert("모든 문제를 풀어주세요!");
						// alert(na+"번 문제를 풀어주세요!");
					};
				})

				var pan = new Array();
				pan = ["1"];
				// pan = ["1","2","4","6","8"];
				for(var p = 0; p < pan.length; p++) {
					var pann = "#qst-"+pan[p];
					$(pann).val(an[(pan[p]-1)]);
					$(pann).addClass("bg-success text-white font-weight-bold");
					$(pann).prop("disabled",true);
					// $(pann).closest("tr").find(".tran").show();
				}				

});
			
		</script>
		<!-- ion.sound finished -->
	</body>
</html>